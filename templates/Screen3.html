<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="5">
    <title>Display</title>
    <link rel="stylesheet" type="text/css" href="/static/style_screen.css"> 
    <!-- /static -->
    <script>
        const startTime = () => {
        const today = new Date()
        const fields = [today.getHours(),
        today.getMinutes(),
        today.getSeconds()]
        const current = fields.map(t => `${t}`.padStart(2, '0')).join(':')
        document.getElementById('current').innerHTML = current
        setTimeout(startTime, 1000)
        }
        document.addEventListener("DOMContentLoaded", (event) => {
        startTime()
        })
        </script>
</head>

<body>
<img src="/static/logo.png" alt="logo" id="logo">
    <div  class = "whole">
        <p id="current"></p>
        <p id = "header"> Branch {{branch}}</p>
        <div class = "rightpart">
            <table class = "table1">
                <h4>Now Processing</h4>
                <thead>
                    <tr>
                      <th>Counter ID</th>
                      <th>Customer ID</th>
                    </tr>
                </thead>
                <tbody>
                    {% for key, value in inprogress.items() %}
                      <tr>
                        <td>{{key}}</td>
                        <td>{{value}}</td>
                      </tr>
                    {% endfor %}
                  </tbody>
            </table>
        </div>

        <div class = "rightpart">
            <div class="leftpart-up">
                <h4>Next Three Customers</h4>
                    <table  class="table2">
                        <thead>
                            <tr>
                            <th>Business</th>
                            <th>Priority</th>
                            <th>Personal</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                            {% if "business" in waiting_Id %}
                                <td>{% for item in waiting_Id["business"] %}
                                    {{item}}<br>
                                {% endfor %}
                                </td>
                            {% else %}
                                <td>empty</td>
                            {% endif %}

                            {% if "priority" in waiting_Id %}
                                <td>{% for item in waiting_Id["priority"] %}
                                    {{item}}<br>
                                {% endfor %}
                                </td>
                            {% else %}
                                <td>empty</td>
                            {% endif %}

                            {% if "personal" in waiting_Id %}
                                <td>{% for item in waiting_Id["personal"] %}
                                    {{item}}<br>
                                {% endfor %}
                                </td>
                            {% else %}
                                <td>empty</td>
                            {% endif %}
                            </tr>
                        </tbody>
                    </table>
                </div>
    
            <div  class = "leftpart-down">
                <h4>Missing ID</h4>
                <table class="table3">
                    <thead>
                        <tr>
                        <th>Business</th>
                        <th>Priority</th>
                        <th>Personal</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                        {% if "business" in missing_id %}
                            <td>{% for item in missing_id["business"] %}
                                {{item}}<br>
                            {% endfor %}
                            </td>
                        {% else %}
                            <td>empty</td>
                        {% endif %}

                        {% if "priority" in missing_id %}
                            <td>{% for item in missing_id["priority"] %}
                                {{item}}<br>
                            {% endfor %}
                            </td>
                        {% else %}
                            <td>empty</td>
                        {% endif %}

                        {% if "personal" in missing_id %}
                            <td>{% for item in missing_id["personal"] %}
                                {{item}}<br>
                            {% endfor %}
                            </td>
                        {% else %}
                            <td>empty</td>
                        {% endif %}
                        </tr>
                    </tbody>
                </table>
                <p class="p1">Missing number please proceed to any counter to reschedule!</p1 >
            </div>
        </div>
    </div>
</body>
</html>